# Unit 1 Challenge - Scooter Hire System

## Learning Objectives

- Students will be able to create Use Case, Class and Sequence UML diagrams to model the design of an Electric Scooter Hire system

- Demonstrate what you have learnt in this Unit by creating classes and unit tests for a new domain.

## Pre-requisites

- An understanding of UML

## Lesson

You have been asked to create a Scooter Hire system. Electric scooters need to be charged at scooter charging stations. Users can only hire and unplug a scooter if the battery is fully charged. Users always use up the battery charge, so when a scooter is returned to a charging station, you can expect the battery to be empty. It takes about 2000 milliseconds to charge a scooter (you have to wait, it's async).

![electric scooters parked on the pavement](https://user-images.githubusercontent.com/1316724/114318905-f952e300-9b06-11eb-82f5-1b31b6a2b983.jpg)

To charge a scooter you can make use of the `setTimeout` call. One way to wait for a timer to complete is as follows:

```js
    async charge() {
        console.log('Starting charge');

        await new Promise(resolve => setTimeout(resolve, 2000)); // wait 2 seconds

        console.log('Charge complete');   // after 2 seconds this line will print
    }
```

This code uses the `async` `await` method of handling callbacks, introduced in ES6. `await` only works with Promises and makes JavaScript wait until a promise settles. In the code above, we wrap the 2 second timer in a Promise, i.e. we say 'when the timer completes either successfully or with an error, promise me you will return'. The `await` keyword pauses execution of the function (in this case _charge()_) until the promise is settled. So, in the code above, the 'Charge complete' text is only logged after 2 seconds.

Note that `await` only pauses execution of the function it is in. This means that any calling functions also need to `await` hence the Jest test for the code above will look like this:

```js
test("charge", async () => {
  const scooter = new Scooter();
  await scooter.charge(); // we need to wait for the charge!
  console.log("Test complete");
});
```

## Assignment

<img src="https://user-images.githubusercontent.com/1316724/114318905-f952e300-9b06-11eb-82f5-1b31b6a2b983.jpg" height="200" width="200" alt="electric scooters parked on the pavement" style="float: right">

You have been asked to design an Electric Scooter Hire app system. The requirements for the system are as follows:

- To hire a scooter, a user must download the Electric Scooter Hire app and register their details
- Only users 18 years and above can ride a scooter
- Scooters are rented from charging stations
- There are multiple charging stations in the city
- Only fully charged scooters can be rented
- The location of available scooters must be visible on a map on the app
- A scooter can be unlocked by scanning a QR code
- A scooter must be returned to a charging station
- It takes 2 hours to fully charge a scooter from empty
- Payment is taken once the user has returned their scooter
- A scooter can be marked by a user as broken. This must remove the scooter from a list of available scooters and trigger maintenance personnel to repair the scooter
- The maximum range of a fully charged scooter is 32 km

To complete the assignment you must create the following:

1. A UML Use Case diagram showing the interactions between the user Actor, scooter Actor and the Electric Scooter Hire app system
1. A UML Use Case diagram showing the interactions between the maintenance personnel Actor and scooters
1. A UML Class diagram showing the system's classes, their attributes, methods and inter-relationships
1. A UML Sequence diagram showing the interactions between the user Actor, the Scooter Actor and the classes in the system
1. A UML Sequence diagram showing the interactions between the maintenance personnel Actor and classes in the system

Screenshots of your UML diagrams must be committed to your Github repository.

1. Create a [new Node.js project](/curriculum/Bootcamp/FAQ#createNewProject) for this assignment.

1. Implement the Scooter Hire system described above. You will need to create the following:

   - A `/src` directory containing classes with interactions (methods calls) that capture the required functionality
   - A `/tests` directory containing unit tests (including async tests for the charging functionality) which test all scenarios
   - A screenshot of your [unit test coverage report](/curriculum/Bootcamp/FAQ#generateCoverage) (aim for 100% coverage)

1. Commit your code into Github and share the link with your coach for review.

### Assignment extension tasks

Use the [PlantUML documentation](https://plantuml.com/sequence-diagram) `alt/else` syntax to extend your UML Sequence diagrams to include the handling of error conditions such as the scooter breaking when the user has started the hire period.

Add JSDoc to all classes and commit the generated HTML documentation to GitHub.

## Additional resources
