<!DOCTYPE html>
<html lang="en-GB">

<head>
    <meta charset="utf-8">
    <title>
         React state
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/x-icon" href="/curriculum/favicon.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/an-old-hope.min.css">
    <link rel="stylesheet" href="/curriculum/style.css" />
    <script src="/curriculum/js/highlight.min.js"></script>
    <script src="/curriculum/js/bash.min.js"></script>
    <script src="/curriculum/js/java.min.js"></script>
    <script src="/curriculum/js/javascript.min.js"></script>
    <script src="/curriculum/js/sql.min.js"></script>
</head>

<body>
    <button id="navigation-toggle" aria-expanded="false" aria-haspopup="true" onclick="toggleNav()"
        onkeydown="event => {event.keyCode === 13 ? toggleNav() : null}" tabindex="1">Table of contents</button>
    <nav id="navigation"><ul><details><summary>Bootcamp</summary><ul><details><summary>Unit 1 Object Oriented Programming</summary><ul><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-1-Object_Oriented_Programming\0.1.0-UML_Modelling.html">0.1.0 UML Modelling</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-1-Object_Oriented_Programming\0.1.2-Objects_in_an_Airport_Domain.html">0.1.2 Objects in an Airport Domain</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-1-Object_Oriented_Programming\0.1.3-Test_Driven_Development.html">0.1.3 Test Driven Development</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-1-Object_Oriented_Programming\0.1.4-Static_functions_and_properties.html">0.1.4 Static functions and properties</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-1-Object_Oriented_Programming\0.1.5-Inheritance.html">0.1.5 Inheritance</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-1-Object_Oriented_Programming\0.1.7-OOP_Challenge.html">0.1.7 OOP Challenge</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-1-Object_Oriented_Programming\0.1.8-End_of_Unit_Quiz_OOP.html">0.1.8 End of Unit Quiz OOP</a></li></ul></details><details><summary>Unit 2 Asynchronous JavaScript</summary><ul><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-2-Asynchronous_JavaScript\0.2.1-Asynchronous_JavaScript.html">0.2.1 Asynchronous JavaScript</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-2-Asynchronous_JavaScript\0.2.2-Promises.html">0.2.2 Promises</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-2-Asynchronous_JavaScript\0.2.3-Asynchronous_Airport_Data_Load.html">0.2.3 Asynchronous Airport Data Load</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-2-Asynchronous_JavaScript\0.2.4-End_of_Unit_Quiz_Async.html">0.2.4 End of Unit Quiz Async</a></li></ul></details><details><summary>Unit 3 Relational Databases</summary><ul><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-3-Relational_Databases\0.3.2-Introduction_to_Databases.html">0.3.2 Introduction to Databases</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-3-Relational_Databases\0.3.3-Basic_SQL_Commands.html">0.3.3 Basic SQL Commands</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-3-Relational_Databases\0.3.4-SQL_Joins.html">0.3.4 SQL Joins</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-3-Relational_Databases\0.3.5-Programmatic_Database_Access.html">0.3.5 Programmatic Database Access</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-3-Relational_Databases\0.3.6-Populating_databases_from_JSON.html">0.3.6 Populating databases from JSON</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-3-Relational_Databases\0.3.7-Object_Relational_Mapping_part_1.html">0.3.7 Object Relational Mapping part 1</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-3-Relational_Databases\0.3.8-Object_Relational_Mapping_part_2.html">0.3.8 Object Relational Mapping part 2</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-3-Relational_Databases\0.3.9a-Sequelize_part_1.html">0.3.9a Sequelize part 1</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-3-Relational_Databases\0.3.9b-Sequelize_part_2.html">0.3.9b Sequelize part 2</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-3-Relational_Databases\0.3.9c-End_of_Unit_Quiz_Databases.html">0.3.9c End of Unit Quiz Databases</a></li></ul></details><details><summary>Unit 4 RESTful Servers</summary><ul><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-4-RESTful_Servers\0.4.1-Web_Servers.html">0.4.1 Web Servers</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-4-RESTful_Servers\0.4.2-Application_Servers.html">0.4.2 Application Servers</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-4-RESTful_Servers\0.4.3-Postman.html">0.4.3 Postman</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-4-RESTful_Servers\0.4.4-Route_Parameters.html">0.4.4 Route Parameters</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-4-RESTful_Servers\0.4.5-CRUD_operations.html">0.4.5 CRUD operations</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-4-RESTful_Servers\0.4.6-Server_side_Validation.html">0.4.6 Server side Validation</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-4-RESTful_Servers\0.4.7-End_of_Unit_Quiz_RESTful.html">0.4.7 End of Unit Quiz RESTful</a></li></ul></details><details><summary>Unit 5 Human Computer Interaction</summary><ul><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-5-Human_Computer_Interaction\0.5.1-Human_Computer_Interaction.html">0.5.1 Human Computer Interaction</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-5-Human_Computer_Interaction\0.5.2-Server_Side_Rendering.html">0.5.2 Server Side Rendering</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-5-Human_Computer_Interaction\0.5.3-The_Document_Object_Model.html">0.5.3 The Document Object Model</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-5-Human_Computer_Interaction\0.5.4-HTML_forms_and_lists.html">0.5.4 HTML forms and lists</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-5-Human_Computer_Interaction\0.5.5-End_of_Unit_Quiz_HCI.html">0.5.5 End of Unit Quiz HCI</a></li></ul></details><details><summary>Unit 6 End Of Bootcamp Group Project</summary><ul><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-6-End_Of_Bootcamp_Group_Project\0.6.1-Introduction.html">0.6.1 Introduction</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-6-End_Of_Bootcamp_Group_Project\0.6.2-Requirements.html">0.6.2 Requirements</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-6-End_Of_Bootcamp_Group_Project\0.6.3-Agile_Development.html">0.6.3 Agile Development</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-6-End_Of_Bootcamp_Group_Project\0.6.4-Design.html">0.6.4 Design</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-6-End_Of_Bootcamp_Group_Project\0.6.5-GitHub_Projects.html">0.6.5 GitHub Projects</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-6-End_Of_Bootcamp_Group_Project\0.6.6-Branching_and_Pull_Requests.html">0.6.6 Branching and Pull Requests</a></li><li><a class="nav-link" href="/curriculum\Bootcamp\Unit-6-End_Of_Bootcamp_Group_Project\0.6.7-Deployment_with_Heroku.html">0.6.7 Deployment with Heroku</a></li></ul></details></ul></details><details><summary>Module 1</summary><ul><details><summary>Unit 1 Agile user requirements</summary><ul><li><a class="nav-link" href="/curriculum\Module-1\Unit-1-Agile_user_requirements\1.1.1-Introduction_to_Agile.html">1.1.1 Introduction to Agile</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-1-Agile_user_requirements\1.1.2-Personas.html">1.1.2 Personas</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-1-Agile_user_requirements\1.1.3-Requirements.html">1.1.3 Requirements</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-1-Agile_user_requirements\1.1.4-User_Stories.html">1.1.4 User Stories</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-1-Agile_user_requirements\1.1.5-Next_Steps.html">1.1.5 Next Steps</a></li></ul></details><details><summary>Unit 2 Designing UI</summary><ul><li><a class="nav-link" href="/curriculum\Module-1\Unit-2-Designing_UI\1.2.1-Usability_heuristics.html">1.2.1 Usability heuristics</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-2-Designing_UI\1.2.2-Composition_and_components_in_design.html">1.2.2 Composition and components in design</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-2-Designing_UI\1.2.3-Prototyping_UI.html">1.2.3 Prototyping UI</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-2-Designing_UI\1.2.4-Next_Steps.html">1.2.4 Next Steps</a></li></ul></details><details><summary>Unit 3 Building UI with React</summary><ul><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_React\1.3.0-Welcome_to_Unit_3.html">1.3.0 Welcome to Unit 3</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_React\1.3.1-Getting_started_with_React.html">1.3.1 Getting started with React</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_React\1.3.2-React_methods_and_computed_properties.html">1.3.2 React methods and computed properties</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_React\1.3.3-Events_and_adding_to_cart.html">1.3.3 Events and adding to cart</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_React\1.3.4-Introducing_routing_to_our_app.html">1.3.4 Introducing routing to our app</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_React\1.3.5-Fixing_the_add_to_cart_event.html">1.3.5 Fixing the add to cart event</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_React\1.3.6-Adding_the_product_details_page.html">1.3.6 Adding the product details page</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_React\1.3.7-Integrating_Redux_for_global_state_management.html">1.3.7 Integrating Redux for global state management</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_React\1.3.8-Consolidating_the_final_components.html">1.3.8 Consolidating the final components</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_React\1.3.9-Closing_thoughts_and_next_steps.html">1.3.9 Closing thoughts and next steps</a></li></ul></details><details><summary>Unit 3 Building UI with Vue.js</summary><ul><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_Vue.js\1.3.0-Welcome_to_Unit_3.html">1.3.0 Welcome to Unit 3</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_Vue.js\1.3.1-Getting_started_with_the_Vue_CDN.html">1.3.1 Getting started with the Vue CDN</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_Vue.js\1.3.2-Vue_methods_and_computed_properties.html">1.3.2 Vue methods and computed properties</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_Vue.js\1.3.3-Events_and_adding_to_cart.html">1.3.3 Events and adding to cart</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_Vue.js\1.3.4-Introducing_routing_to_our_app.html">1.3.4 Introducing routing to our app</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_Vue.js\1.3.5-Fixing_the_add_to_cart_event.html">1.3.5 Fixing the add to cart event</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_Vue.js\1.3.6-Adding_the_product_details_page.html">1.3.6 Adding the product details page</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_Vue.js\1.3.7-Integrating_Vuex_for_global_state_management.html">1.3.7 Integrating Vuex for global state management</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_Vue.js\1.3.8-Consolidating_the_final_components.html">1.3.8 Consolidating the final components</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-3-Building_UI_with_Vue.js\1.3.9-Closing_thoughts_and_next_steps.html">1.3.9 Closing thoughts and next steps</a></li></ul></details><details><summary>Unit 4 Accessibility</summary><ul><li><a class="nav-link" href="/curriculum\Module-1\Unit-4-Accessibility\1.4.1-Inclusive_design.html">1.4.1 Inclusive design</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-4-Accessibility\1.4.2-Accessibility.html">1.4.2 Accessibility</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-4-Accessibility\1.4.3-Next_Steps.html">1.4.3 Next Steps</a></li></ul></details><details><summary>Unit 5 End to end testing</summary><ul><li><a class="nav-link" href="/curriculum\Module-1\Unit-5-End_to_end_testing\1.5.1-End_to_end_testing.html">1.5.1 End to end testing</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-5-End_to_end_testing\1.5.2-End_to_end_testing_with_Cypress.html">1.5.2 End to end testing with Cypress</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-5-End_to_end_testing\1.5.3-Adding_more_test_coverage.html">1.5.3 Adding more test coverage</a></li><li><a class="nav-link" href="/curriculum\Module-1\Unit-5-End_to_end_testing\1.5.4-Test_cases_and_equivalence_testing.html">1.5.4 Test cases and equivalence testing</a></li></ul></details></ul></details><details><summary>Module 2</summary><ul><details><summary>Unit 1 Securing APIs with Basic Auth</summary><ul><li><a class="nav-link" href="/curriculum\Module-2\Unit-1-Securing_APIs_with_Basic_Auth\2.1.1-RESTful_APIs_and_Frameworks.html">2.1.1 RESTful APIs and Frameworks</a></li><li><a class="nav-link" href="/curriculum\Module-2\Unit-1-Securing_APIs_with_Basic_Auth\2.1.2-Password_Hashing.html">2.1.2 Password Hashing</a></li><li><a class="nav-link" href="/curriculum\Module-2\Unit-1-Securing_APIs_with_Basic_Auth\2.1.3-Implementing_Basic_Auth.html">2.1.3 Implementing Basic Auth</a></li><li><a class="nav-link" href="/curriculum\Module-2\Unit-1-Securing_APIs_with_Basic_Auth\2.1.4-Limitations_of_Basic_Auth.html">2.1.4 Limitations of Basic Auth</a></li></ul></details><details><summary>Unit 2 Securing APIs with OAuth and OpenID Connect</summary><ul><li><a class="nav-link" href="/curriculum\Module-2\Unit-2-Securing_APIs_with_OAuth_and_OpenID_Connect\2.2.1-Introduction_to_OAuth.html">2.2.1 Introduction to OAuth</a></li><li><a class="nav-link" href="/curriculum\Module-2\Unit-2-Securing_APIs_with_OAuth_and_OpenID_Connect\2.2.2-Securing_APIs_with_OAuth.html">2.2.2 Securing APIs with OAuth</a></li><li><a class="nav-link" href="/curriculum\Module-2\Unit-2-Securing_APIs_with_OAuth_and_OpenID_Connect\2.2.3-OpenID_Connect.html">2.2.3 OpenID Connect</a></li><li><a class="nav-link" href="/curriculum\Module-2\Unit-2-Securing_APIs_with_OAuth_and_OpenID_Connect\2.2.4-Module_2_assessment.html">2.2.4 Module 2 assessment</a></li></ul></details></ul></details><details><summary>Module 3</summary><ul><details><summary>Unit 1 The SDLC</summary><ul><li><a class="nav-link" href="/curriculum\Module-3\Unit-1-The-SDLC\3.1.0-Introduction_to_module_3.html">3.1.0 Introduction to module 3</a></li><li><a class="nav-link" href="/curriculum\Module-3\Unit-1-The-SDLC\3.1.1-The_Software_Development_Life_Cycle.html">3.1.1 The Software Development Life Cycle</a></li><li><a class="nav-link" href="/curriculum\Module-3\Unit-1-The-SDLC\3.1.2-The_roles_and_responsibilities_in_the_SDLC.html">3.1.2 The roles and responsibilities in the SDLC</a></li><li><a class="nav-link" href="/curriculum\Module-3\Unit-1-The-SDLC\3.1.3-Communication_in_your_teams.html">3.1.3 Communication in your teams</a></li></ul></details><details><summary>Unit 2 The 7 Princibles of Testing</summary><ul><li><a class="nav-link" href="/curriculum\Module-3\Unit-2-The-7-Princibles-of-Testing\3.2.1-The_7_Princibles_of_Testing.html">3.2.1 The 7 Princibles of Testing</a></li><li><a class="nav-link" href="/curriculum\Module-3\Unit-2-The-7-Princibles-of-Testing\3.2.2-Continuous_Deployment.html">3.2.2 Continuous Deployment</a></li></ul></details><details><summary>Unit 3 Deployment and Maintenance</summary><ul><li><a class="nav-link" href="/curriculum\Module-3\Unit-3-Deployment-and-Maintenance\3.3.1-Introduction_to_Unix.html">3.3.1 Introduction to Unix</a></li><li><a class="nav-link" href="/curriculum\Module-3\Unit-3-Deployment-and-Maintenance\3.3.2-Introduction_to_containerisation.html">3.3.2 Introduction to containerisation</a></li><li><a class="nav-link" href="/curriculum\Module-3\Unit-3-Deployment-and-Maintenance\3.3.3-Introduction_to_Cloud_Computing.html">3.3.3 Introduction to Cloud Computing</a></li><li><a class="nav-link" href="/curriculum\Module-3\Unit-3-Deployment-and-Maintenance\3.3.4-Monitoring_and_Maintenance.html">3.3.4 Monitoring and Maintenance</a></li></ul></details></ul></details><details><summary>Module 4</summary><ul><details><summary>Unit 1 Open Web Application Security Project</summary><ul><li><a class="nav-link" href="/curriculum\Module-4\Unit-1-Open_Web_Application_Security_Project\4.1.1-OWASP.html">4.1.1 OWASP</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-1-Open_Web_Application_Security_Project\4.1.2-Juice_Shop.html">4.1.2 Juice Shop</a></li></ul></details><details><summary>Unit 2 OWASP Top 10</summary><ul><li><a class="nav-link" href="/curriculum\Module-4\Unit-2-OWASP_Top_10\4.2.1-Broken_Access_Control.html">4.2.1 Broken Access Control</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-2-OWASP_Top_10\4.2.2-Cryptographic_Failure.html">4.2.2 Cryptographic Failure</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-2-OWASP_Top_10\4.2.3-Injection.html">4.2.3 Injection</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-2-OWASP_Top_10\4.2.4-Insecure_Design.html">4.2.4 Insecure Design</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-2-OWASP_Top_10\4.2.5-Security_Misconfiguration.html">4.2.5 Security Misconfiguration</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-2-OWASP_Top_10\4.2.6-Vulnerable_Components.html">4.2.6 Vulnerable Components</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-2-OWASP_Top_10\4.2.7-Identification_and_Authentication_Failures.html">4.2.7 Identification and Authentication Failures</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-2-OWASP_Top_10\4.2.8-Software_and_Data_Integrity_Failures.html">4.2.8 Software and Data Integrity Failures</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-2-OWASP_Top_10\4.2.9-Security_Logging_and_Monitoring_Failures.html">4.2.9 Security Logging and Monitoring Failures</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-2-OWASP_Top_10\4.2.I0-Server_Side_Request_Forgery.html">4.2.I0 Server Side Request Forgery</a></li></ul></details><details><summary>Unit 3 OWASP Assignments</summary><ul><li><a class="nav-link" href="/curriculum\Module-4\Unit-3-OWASP_Assignments\4.3.1-Portfolio.html">4.3.1 Portfolio</a></li><li><a class="nav-link" href="/curriculum\Module-4\Unit-3-OWASP_Assignments\4.3.2-Summative_Project.html">4.3.2 Summative Project</a></li></ul></details></ul></details></ul></nav>
    <h1>React state</h1>
<p>In 1.3.1 we identified that it could be tricky to fetch the image source and other image information from the images array. There is enough going on turning that data into an image that it would warrant it's own component. Thats what we are going to do in this session.</p>
<h2>Learning Objectives</h2>
<ul>
<li>Understand what a component's state is for</li>
<li>implement state in a component</li>
<li>update the state of a component</li>
</ul>
<h3>State</h3>
<p>State in React is very important concept to grasp. A component can have many different 'states'. For example an input field can be empty, thats one 'state'. It may not be empty, that is another 'state', it could have invalid values, it could have default values, it could have pre-loaded values.</p>
<p>Many states.</p>
<p>React is absolutely wonderful at handling state for you. We hacked the displaying of images, lets do a better job and create an <code>Img</code> component that's going to have three different states:</p>
<ol>
<li>default state just a plain old image</li>
<li>interact as you mouse over you'll see the name of the plant</li>
<li>favored image displays with a heart</li>
</ol>
<p>The default state will just display the image, with alt tags etc. We will create a mouse over state that will display the name of the plant in an overlay. The final state will be a favorites state (we will toggle a heart on the image).</p>
<p>The idea is easy to grasp. The component has a value held within it. When the value changes, our component will automatically re-render. We can display different HTML depending on the internal value or state.</p>
<p>We can use HTML like events to capture interactions and trigger functions just like we can using plain old javascript and HTML. Those functions can then alter the internal state of the component, that will trigger a reactive re-render.</p>
<h3>create the Img component</h3>
<p>Start by creating the <code>&lt;Img image={image}/&gt;</code> component in a simple way that returns a valid <code>&lt;img&gt;</code> tag. Make a file called <code>Img.js</code>. Here is some starter code.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Img = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">{}</span> /&gt;</span></span>
    )
}
</code></pre>
<p>Test it out in your app. See if you can use this component in your <code>Product</code> component. You will have to import it, then iterate over the <code>images</code> array and pass in the data object via <code>props</code>. Look back over the code you have already written and duplicate the patterns that are already there.</p>
<h3>useState</h3>
<p>We are going to pull a utility function from the core React library called <code>useState</code> to create a <em>reactive</em> internal state variable called <code>overlay</code>. useState returns to us a <em>reactive</em> variable, and a special function to call to update that <em>reactive</em> variable.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Img = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> [overlay, setOverlay] = useState(<span class="hljs-string">&#x27;default&#x27;</span>)
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{props.image.imageSrc}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">{props.image.title}</span> /&gt;</span></span>
}
</code></pre>
<p>Can you see how the <em>reactive</em> variable and the corresponding function to update it are destructured from the result of calling <code>useState()</code>. I am calling <code>useState('')</code> with an empty string <code>''</code> that will be the initial starting value of the <strong>overlay</strong> <em>reactive</em> variable.</p>
<h3>Stateful overlays</h3>
<p>I'm imagining we can have different overlays over the image. We need to change up the HTML of the component to do this nicely. I'm going to wrap the image in a <code>&lt;figure&gt;</code> element and display the image with either or text and an emoji over the top of it. I'm just going to bake the styles into the HTML as they are structural and I want us to focus on using state in React. Later you can refactor this css and put it in your style sheet.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Img = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> [overlay, setOverlay] = useState(<span class="hljs-string">&#x27;&#x27;</span>)
    <span class="hljs-keyword">const</span> overlayStyles = {
        <span class="hljs-attr">position</span>: <span class="hljs-string">&#x27;absolute&#x27;</span>,
        <span class="hljs-attr">bottom</span>: <span class="hljs-string">&#x27;.5rem&#x27;</span>,
        <span class="hljs-attr">left</span>: <span class="hljs-string">&#x27;.5rem&#x27;</span>,
        <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&#x27;2rem&#x27;</span>
    } 
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">figure</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{position:</span> &#x27;<span class="hljs-attr">relative</span>&#x27;}}&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{props.image.imageSrc}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">{props.image.title}</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">figcaption</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{overlayStyles}</span>&gt;</span>{overlay}<span class="hljs-tag">&lt;/<span class="hljs-name">figcaption</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">figure</span>&gt;</span></span>
    )
}
</code></pre>
<h3>onClick</h3>
<p>First lets toggle a heart. When the image is clicked you will add a heart, if you click it again it will be removed. We need to listen for mouse clicks, just like HTML we add an event listener and event handler. Add the event handler.</p>
<pre><code class="language-javascript">&lt;figure style={{<span class="hljs-attr">position</span>: <span class="hljs-string">&#x27;relative&#x27;</span>}} onClick={<span class="hljs-function">() =&gt;</span> setOverlay(overlay === <span class="hljs-string">&#x27;❤️&#x27;</span> ? <span class="hljs-string">&#x27;&#x27;</span> : <span class="hljs-string">&#x27;❤️&#x27;</span>)}&gt;
</code></pre>
<p>All the HTML inline javascript functions like <code>onclick</code>, <code>onmouseenter</code> in React they are all CamelCased. <code>onClick</code>, <code>onMouseEnter</code> etc. All we are doing in our inline function is checking if overlay is a heart and un-setting it if it is and setting it if it is not. Its a toggle.</p>
<p>Now our component has 2 states.</p>
<h3>3 States</h3>
<p>There is more complexity when we add a third state. So lets refactor and add state for the heart and state for the plant name. We'll also add the mouse enter/leave- events with their own handlers.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Img = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> [title, setTitle] = useState(<span class="hljs-string">&#x27;&#x27;</span>)
    <span class="hljs-keyword">const</span> [heart, setHeart] = useState(<span class="hljs-literal">true</span>)
    
    <span class="hljs-keyword">const</span> overlayStyles = {
        <span class="hljs-attr">position</span>: <span class="hljs-string">&#x27;absolute&#x27;</span>,
        <span class="hljs-attr">bottom</span>: <span class="hljs-string">&#x27;.5rem&#x27;</span>,
        <span class="hljs-attr">left</span>: <span class="hljs-string">&#x27;.5rem&#x27;</span>,
        <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&#x27;2rem&#x27;</span>
    }

    <span class="hljs-keyword">const</span> showTitle = <span class="hljs-function">() =&gt;</span> {
        setTitle(props.image.title)
    }
    <span class="hljs-keyword">const</span> hideTitle = <span class="hljs-function">() =&gt;</span> {
        setTitle(<span class="hljs-string">&#x27;&#x27;</span>)
    }
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">figure</span> 
            <span class="hljs-attr">style</span>=<span class="hljs-string">{{position:</span> &#x27;<span class="hljs-attr">relative</span>&#x27;}} 
            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setHeart(!heart)}
            onMouseEnter={showTitle}
            onMouseLeave={hideTitle}
            &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{props.image.imageSrc}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">{props.image.title}</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">figcaption</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{overlayStyles}</span>&gt;</span>{heart ? &#x27;❤️&#x27; : &#x27;&#x27;} {title}<span class="hljs-tag">&lt;/<span class="hljs-name">figcaption</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">figure</span>&gt;</span></span>
    )
}
</code></pre>
<p>When you have lots of props that you are passing to a React component you'll often see them stacked up on their own line like I have done above in the <code>&lt;figure&gt;</code> element. It makes it easier to read.</p>
<h3>Assignment</h3>
<p>If there is no stock we should communicate this to our users. Can you update the image component to consider stock levels and visually indicate to your users if this item is available to buy or not.</p>
<p><em>hint</em> we are not passing stock levels into our <code>Img</code> component at the moment.</p>

    <nav id="footer-nav"></nav>
    <script src="/curriculum/js/tabbed-code-blocks.js"></script>
    <script>
        function toggleNav() {
            const button = document.getElementById('navigation-toggle')
            const isAriaExp = button.getAttribute('aria-expanded')
            const newAriaExp = (isAriaExp == "false") ? "true" : "false"
            button.setAttribute('aria-expanded', newAriaExp)
            const nav = document.getElementById('navigation')
            nav.style.display = nav.offsetParent ? 'none' : 'block'
        }
        function footerNav() {
            const links = document.getElementsByClassName('nav-link')
            const hrefs = Array.from(links).map(a => a.getAttribute('href'))
            const [current] = window.location.href.match(/[0-9\.]+[a-zA-Z0-9_\\-]+\.html/) || [0]
            const index = hrefs.findIndex(href => {
                const page = href.split(/\\|\//).pop()
                return page === current
            })
            const prevIndex = index - 1
            const nextIndex = index + 1
            if (prevIndex > -1) {
                const prev = document.createElement('a') 
                prev.appendChild(document.createTextNode("◀︎ Prev"))
                prev.title = "Previous session notes"
                prev.href = hrefs[prevIndex]
                document.getElementById('footer-nav').prepend(prev)
            }
            if (nextIndex < hrefs.length) {
                const next = document.createElement('a') 
                next.appendChild(document.createTextNode("Next ►"))
                next.title = "Next session notes"
                next.href = hrefs[nextIndex]
                document.getElementById('footer-nav').append(next)
            }
            window.removeEventListener('DOMContentLoaded', footerNav)
        }
        window.addEventListener('DOMContentLoaded', footerNav)
    </script>
</body>

</html>