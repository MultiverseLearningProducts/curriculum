# Events and adding to cart

You've done some amazing work getting to this point! You've created your own Product component and we're now rendering products on the page dynamically. You also know what methods and computed properties do and how they work. Now it's time to get a little more practice adding components and then later, we'll look at events.

## Learning Objectives

- Learn how events work
- Add products to the cart

## Learn how events work

You'll notice that we've got the 'Full details' button and the 'Add to cart' buttonn, but neither of them work because we have wired them up. Let's rectify that and wire up the Add to cart button so it adds the product ID to the cart.

### Step 1

In your product component, modify the button as follows:

```html
<button v-on:click="addToCart(product)">Add to cart</button>
```

The `v-on` tells Vue to add an event listener to the button and to run the `addToCart` method on click.

### Step 2

Add a new method to the methods object to handle the click:

```javascript
// Product component

addToCart(product) {
  console.log(product);
}
```

Refresh your page and click one of the Add to cart buttons. You should see the product logged to the console.

### Problem solving

Now we have a bit of problem to solve. We need to push this product's ID into the cart array, but the cart exists in the data object that belongs to the main component, which we can't directly access via the product component. There are a number of ways to solve this. Two examples are:

- `Emit` an event up to the main component and pass up the ID

- Use a centralised state management tool like Vuex

Using Vuex at this point is a little overkill as there are only two components. For that reason, let's emit an event and solve the problem that way. We'll incorporate Vuex later when our app becomes more complex

### Step 3

Head back to your addToCart function in the product component and add:

```javascript
// Product component

addToCart(product) {
  product.addedToCart = !product.addedToCart;
  this.$emit('add-to-cart', product.productId);
}
```

Firstly here we change the `addedToCart` property on the property to whatever is is not, so if `addedToCart` is false, `!product.addedToCart` will return true because a false becomes true when used with the NOT operator. In a similar fashion, if `addedToCart` is true, then `!product.addedToCart` will return false.

Next up, we emit the event back up to the main component using the event `add-to-cart`. The main component receives this signal, and fires the `updateCart` method, which receives the product ID.

### Step 4

Now in your main component, add the following method:

```javascript
// Main component

updateCart(productId) {
  this.cart.push(productId);
  console.log(this.cart);
},
```

Notice here we simple push the ID into the cart, then log the cart array (you can remove the console log later). If all has gone well you should see the product ID added to the cart and the cart value in the header incrementing.

## Assignment - Coding challenge 1

## Additional resources

- [Vue events]()
- []()

```

```
