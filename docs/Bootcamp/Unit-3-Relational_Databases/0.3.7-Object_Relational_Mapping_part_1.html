<!DOCTYPE html>
<html lang="en-GB">

<head>
    <meta charset="utf-8">
    <title>
         Object Relational Mapping - part 1
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/x-icon" href="/curriculum/favicon.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/an-old-hope.min.css">
    <link rel="stylesheet" href="/curriculum/style.css" />
    <script src="/curriculum/js/highlight.min.js"></script>
    <script src="/curriculum/js/bash.min.js"></script>
    <script src="/curriculum/js/java.min.js"></script>
    <script src="/curriculum/js/javascript.min.js"></script>
    <script src="/curriculum/js/sql.min.js"></script>
</head>

<body>
    <button id="navigation-toggle" aria-expanded="false" aria-haspopup="true" onclick="toggleNav()"
        onkeydown="event => {event.keyCode === 13 ? toggleNav() : null}" tabindex="1">Table of contents</button>
    <nav id="navigation"><ul><details><summary>Bootcamp</summary><ul><details><summary>Unit 1 Object Oriented Programming</summary><ul><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-1-Object_Oriented_Programming/0.1.0-UML_Modelling.html">0.1.0 UML Modelling</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-1-Object_Oriented_Programming/0.1.2-Objects_in_an_Airport_Domain.html">0.1.2 Objects in an Airport Domain</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-1-Object_Oriented_Programming/0.1.3-Test_Driven_Development.html">0.1.3 Test Driven Development</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-1-Object_Oriented_Programming/0.1.4-Static_functions_and_properties.html">0.1.4 Static functions and properties</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-1-Object_Oriented_Programming/0.1.5-Inheritance.html">0.1.5 Inheritance</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-1-Object_Oriented_Programming/0.1.7-OOP_Challenge.html">0.1.7 OOP Challenge</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-1-Object_Oriented_Programming/0.1.8-End_of_Unit_Quiz_OOP.html">0.1.8 End of Unit Quiz OOP</a></li></ul></details><details><summary>Unit 2 Asynchronous JavaScript</summary><ul><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-2-Asynchronous_JavaScript/0.2.1-Asynchronous_JavaScript.html">0.2.1 Asynchronous JavaScript</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-2-Asynchronous_JavaScript/0.2.2-Promises.html">0.2.2 Promises</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-2-Asynchronous_JavaScript/0.2.3-Asynchronous_Airport_Data_Load.html">0.2.3 Asynchronous Airport Data Load</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-2-Asynchronous_JavaScript/0.2.4-End_of_Unit_Quiz_Async.html">0.2.4 End of Unit Quiz Async</a></li></ul></details><details><summary>Unit 3 Relational Databases</summary><ul><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-3-Relational_Databases/0.3.2-Introduction_to_Databases.html">0.3.2 Introduction to Databases</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-3-Relational_Databases/0.3.3-Basic_SQL_Commands.html">0.3.3 Basic SQL Commands</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-3-Relational_Databases/0.3.4-SQL_Joins.html">0.3.4 SQL Joins</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-3-Relational_Databases/0.3.5-Programmatic_Database_Access.html">0.3.5 Programmatic Database Access</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-3-Relational_Databases/0.3.6-Populating_databases_from_JSON.html">0.3.6 Populating databases from JSON</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-3-Relational_Databases/0.3.7-Object_Relational_Mapping_part_1.html">0.3.7 Object Relational Mapping part 1</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-3-Relational_Databases/0.3.8-Object_Relational_Mapping_part_2.html">0.3.8 Object Relational Mapping part 2</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-3-Relational_Databases/0.3.9a-Commercial_ORM_part_1.html">0.3.9a Commercial ORM part 1</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-3-Relational_Databases/0.3.9b-Commercial_ORM_part_2.html">0.3.9b Commercial ORM part 2</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-3-Relational_Databases/0.3.9c-End_of_Unit_Quiz_Databases.html">0.3.9c End of Unit Quiz Databases</a></li></ul></details><details><summary>Unit 4 RESTful Servers</summary><ul><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-4-RESTful_Servers/0.4.1-Web_Servers.html">0.4.1 Web Servers</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-4-RESTful_Servers/0.4.2-Application_Servers.html">0.4.2 Application Servers</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-4-RESTful_Servers/0.4.3-Postman.html">0.4.3 Postman</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-4-RESTful_Servers/0.4.4-Route_Parameters.html">0.4.4 Route Parameters</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-4-RESTful_Servers/0.4.5-CRUD_operations.html">0.4.5 CRUD operations</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-4-RESTful_Servers/0.4.6-Server_side_Validation.html">0.4.6 Server side Validation</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-4-RESTful_Servers/0.4.7-End_of_Unit_Quiz_RESTful.html">0.4.7 End of Unit Quiz RESTful</a></li></ul></details><details><summary>Unit 5 Human Computer Interaction</summary><ul><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-5-Human_Computer_Interaction/0.5.1-Human_Computer_Interaction.html">0.5.1 Human Computer Interaction</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-5-Human_Computer_Interaction/0.5.3-The_Document_Object_Model.html">0.5.3 The Document Object Model</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-5-Human_Computer_Interaction/0.5.4-HTML_forms_and_lists.html">0.5.4 HTML forms and lists</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-5-Human_Computer_Interaction/0.5.4.1-Component_update_cycle.html">0.5.4.1 Component update cycle</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-5-Human_Computer_Interaction/0.5.5-End_of_Unit_Quiz_HCI.html">0.5.5 End of Unit Quiz HCI</a></li></ul></details><details><summary>Unit 6 End Of Bootcamp Group Project</summary><ul><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-6-End_Of_Bootcamp_Group_Project/0.6.1-Introduction.html">0.6.1 Introduction</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-6-End_Of_Bootcamp_Group_Project/0.6.2-Requirements.html">0.6.2 Requirements</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-6-End_Of_Bootcamp_Group_Project/0.6.3-Agile_Development.html">0.6.3 Agile Development</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-6-End_Of_Bootcamp_Group_Project/0.6.4-Design.html">0.6.4 Design</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-6-End_Of_Bootcamp_Group_Project/0.6.5-GitHub_Projects.html">0.6.5 GitHub Projects</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-6-End_Of_Bootcamp_Group_Project/0.6.6-Branching_and_Pull_Requests.html">0.6.6 Branching and Pull Requests</a></li><li><a class="nav-link" href="/curriculum/Bootcamp/Unit-6-End_Of_Bootcamp_Group_Project/0.6.7-Deployment_with_Heroku.html">0.6.7 Deployment with Heroku</a></li></ul></details></ul></details><details><summary>Module 1</summary><ul><details><summary>Unit 1 Agile user requirements</summary><ul><li><a class="nav-link" href="/curriculum/Module-1/Unit-1-Agile_user_requirements/1.1.1-Introduction_to_Agile.html">1.1.1 Introduction to Agile</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-1-Agile_user_requirements/1.1.2-Personas.html">1.1.2 Personas</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-1-Agile_user_requirements/1.1.3-Requirements.html">1.1.3 Requirements</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-1-Agile_user_requirements/1.1.4-User_Stories.html">1.1.4 User Stories</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-1-Agile_user_requirements/1.1.5-Next_Steps.html">1.1.5 Next Steps</a></li></ul></details><details><summary>Unit 2 Designing UI</summary><ul><li><a class="nav-link" href="/curriculum/Module-1/Unit-2-Designing_UI/1.2.1-Usability_heuristics.html">1.2.1 Usability heuristics</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-2-Designing_UI/1.2.2-Composition_and_components_in_design.html">1.2.2 Composition and components in design</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-2-Designing_UI/1.2.3-Prototyping_UI.html">1.2.3 Prototyping UI</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-2-Designing_UI/1.2.4-Next_Steps.html">1.2.4 Next Steps</a></li></ul></details><details><summary>Unit 3 Building UI with React</summary><ul><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_React/1.3.0-Welcome_to_Unit_3.html">1.3.0 Welcome to Unit 3</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_React/1.3.1-Getting_started_with_React.html">1.3.1 Getting started with React</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_React/1.3.2-React_methods_and_computed_properties.html">1.3.2 React methods and computed properties</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_React/1.3.3-Events_and_adding_to_cart.html">1.3.3 Events and adding to cart</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_React/1.3.4-Introducing_routing_to_our_app.html">1.3.4 Introducing routing to our app</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_React/1.3.5-Fixing_the_add_to_cart_event.html">1.3.5 Fixing the add to cart event</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_React/1.3.6-Adding_the_product_details_page.html">1.3.6 Adding the product details page</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_React/1.3.7-Integrating_Redux_for_global_state_management.html">1.3.7 Integrating Redux for global state management</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_React/1.3.8-Consolidating_the_final_components.html">1.3.8 Consolidating the final components</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_React/1.3.9-Closing_thoughts_and_next_steps.html">1.3.9 Closing thoughts and next steps</a></li></ul></details><details><summary>Unit 3 Building UI with Vue.js</summary><ul><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_Vue.js/1.3.0-Welcome_to_Unit_3.html">1.3.0 Welcome to Unit 3</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_Vue.js/1.3.1-Getting_started_with_the_Vue_CDN.html">1.3.1 Getting started with the Vue CDN</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_Vue.js/1.3.2-Vue_methods_and_computed_properties.html">1.3.2 Vue methods and computed properties</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_Vue.js/1.3.3-Events_and_adding_to_cart.html">1.3.3 Events and adding to cart</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_Vue.js/1.3.4-Introducing_routing_to_our_app.html">1.3.4 Introducing routing to our app</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_Vue.js/1.3.5-Fixing_the_add_to_cart_event.html">1.3.5 Fixing the add to cart event</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_Vue.js/1.3.6-Adding_the_product_details_page.html">1.3.6 Adding the product details page</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_Vue.js/1.3.7-Integrating_Vuex_for_global_state_management.html">1.3.7 Integrating Vuex for global state management</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_Vue.js/1.3.8-Consolidating_the_final_components.html">1.3.8 Consolidating the final components</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-3-Building_UI_with_Vue.js/1.3.9-Closing_thoughts_and_next_steps.html">1.3.9 Closing thoughts and next steps</a></li></ul></details><details><summary>Unit 4 Accessibility</summary><ul><li><a class="nav-link" href="/curriculum/Module-1/Unit-4-Accessibility/1.4.1-Inclusive_design.html">1.4.1 Inclusive design</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-4-Accessibility/1.4.2-Accessibility.html">1.4.2 Accessibility</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-4-Accessibility/1.4.3-Next_Steps.html">1.4.3 Next Steps</a></li></ul></details><details><summary>Unit 5 End to end testing</summary><ul><li><a class="nav-link" href="/curriculum/Module-1/Unit-5-End_to_end_testing/1.5.1-End_to_end_testing.html">1.5.1 End to end testing</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-5-End_to_end_testing/1.5.2-End_to_end_testing_with_Cypress.html">1.5.2 End to end testing with Cypress</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-5-End_to_end_testing/1.5.3-Adding_more_test_coverage.html">1.5.3 Adding more test coverage</a></li><li><a class="nav-link" href="/curriculum/Module-1/Unit-5-End_to_end_testing/1.5.4-Test_cases_and_equivalence_testing.html">1.5.4 Test cases and equivalence testing</a></li></ul></details></ul></details><details><summary>Module 2</summary><ul><details><summary>Unit 1 Securing APIs with Basic Auth</summary><ul><li><a class="nav-link" href="/curriculum/Module-2/Unit-1-Securing_APIs_with_Basic_Auth/2.1.1-RESTful_APIs_and_Frameworks.html">2.1.1 RESTful APIs and Frameworks</a></li><li><a class="nav-link" href="/curriculum/Module-2/Unit-1-Securing_APIs_with_Basic_Auth/2.1.2-Password_Hashing.html">2.1.2 Password Hashing</a></li><li><a class="nav-link" href="/curriculum/Module-2/Unit-1-Securing_APIs_with_Basic_Auth/2.1.3-Implementing_Basic_Auth.html">2.1.3 Implementing Basic Auth</a></li><li><a class="nav-link" href="/curriculum/Module-2/Unit-1-Securing_APIs_with_Basic_Auth/2.1.4-Limitations_of_Basic_Auth.html">2.1.4 Limitations of Basic Auth</a></li></ul></details><details><summary>Unit 2 Securing APIs with OAuth and OpenID Connect</summary><ul><li><a class="nav-link" href="/curriculum/Module-2/Unit-2-Securing_APIs_with_OAuth_and_OpenID_Connect/2.2.1-Introduction_to_OAuth.html">2.2.1 Introduction to OAuth</a></li><li><a class="nav-link" href="/curriculum/Module-2/Unit-2-Securing_APIs_with_OAuth_and_OpenID_Connect/2.2.2-Securing_APIs_with_OAuth.html">2.2.2 Securing APIs with OAuth</a></li><li><a class="nav-link" href="/curriculum/Module-2/Unit-2-Securing_APIs_with_OAuth_and_OpenID_Connect/2.2.3-OpenID_Connect.html">2.2.3 OpenID Connect</a></li><li><a class="nav-link" href="/curriculum/Module-2/Unit-2-Securing_APIs_with_OAuth_and_OpenID_Connect/2.2.4-Module_2_assessment.html">2.2.4 Module 2 assessment</a></li></ul></details></ul></details><details><summary>Module 3</summary><ul><details><summary>Unit 1 The SDLC</summary><ul><li><a class="nav-link" href="/curriculum/Module-3/Unit-1-The-SDLC/3.1.0-Introduction_to_module_3.html">3.1.0 Introduction to module 3</a></li><li><a class="nav-link" href="/curriculum/Module-3/Unit-1-The-SDLC/3.1.1-The_Software_Development_Life_Cycle.html">3.1.1 The Software Development Life Cycle</a></li><li><a class="nav-link" href="/curriculum/Module-3/Unit-1-The-SDLC/3.1.2-The_roles_and_responsibilities_in_the_SDLC.html">3.1.2 The roles and responsibilities in the SDLC</a></li><li><a class="nav-link" href="/curriculum/Module-3/Unit-1-The-SDLC/3.1.3-Communication_in_your_teams.html">3.1.3 Communication in your teams</a></li></ul></details><details><summary>Unit 2 The 7 Princibles of Testing</summary><ul><li><a class="nav-link" href="/curriculum/Module-3/Unit-2-The-7-Princibles-of-Testing/3.2.1-The_7_Princibles_of_Testing.html">3.2.1 The 7 Princibles of Testing</a></li><li><a class="nav-link" href="/curriculum/Module-3/Unit-2-The-7-Princibles-of-Testing/3.2.2-Continuous_Deployment.html">3.2.2 Continuous Deployment</a></li></ul></details><details><summary>Unit 3 Deployment and Maintenance</summary><ul><li><a class="nav-link" href="/curriculum/Module-3/Unit-3-Deployment-and-Maintenance/3.3.1-Introduction_to_Unix.html">3.3.1 Introduction to Unix</a></li><li><a class="nav-link" href="/curriculum/Module-3/Unit-3-Deployment-and-Maintenance/3.3.2-Introduction_to_containerisation.html">3.3.2 Introduction to containerisation</a></li><li><a class="nav-link" href="/curriculum/Module-3/Unit-3-Deployment-and-Maintenance/3.3.2.1-Introduction_to_jenkins_pipelines.html">3.3.2.1 Introduction to jenkins pipelines</a></li><li><a class="nav-link" href="/curriculum/Module-3/Unit-3-Deployment-and-Maintenance/3.3.3-Introduction_to_Cloud_Computing.html">3.3.3 Introduction to Cloud Computing</a></li><li><a class="nav-link" href="/curriculum/Module-3/Unit-3-Deployment-and-Maintenance/3.3.4-Monitoring_and_Maintenance.html">3.3.4 Monitoring and Maintenance</a></li></ul></details></ul></details><details><summary>Module 4</summary><ul><details><summary>Unit 1 Open Web Application Security Project</summary><ul><li><a class="nav-link" href="/curriculum/Module-4/Unit-1-Open_Web_Application_Security_Project/4.1.1-OWASP.html">4.1.1 OWASP</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-1-Open_Web_Application_Security_Project/4.1.2-Juice_Shop.html">4.1.2 Juice Shop</a></li></ul></details><details><summary>Unit 2 OWASP Top 10</summary><ul><li><a class="nav-link" href="/curriculum/Module-4/Unit-2-OWASP_Top_10/4.2.1-Broken_Access_Control.html">4.2.1 Broken Access Control</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-2-OWASP_Top_10/4.2.2-Cryptographic_Failure.html">4.2.2 Cryptographic Failure</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-2-OWASP_Top_10/4.2.3-Injection.html">4.2.3 Injection</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-2-OWASP_Top_10/4.2.4-Insecure_Design.html">4.2.4 Insecure Design</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-2-OWASP_Top_10/4.2.5-Security_Misconfiguration.html">4.2.5 Security Misconfiguration</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-2-OWASP_Top_10/4.2.6-Vulnerable_Components.html">4.2.6 Vulnerable Components</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-2-OWASP_Top_10/4.2.7-Identification_and_Authentication_Failures.html">4.2.7 Identification and Authentication Failures</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-2-OWASP_Top_10/4.2.8-Software_and_Data_Integrity_Failures.html">4.2.8 Software and Data Integrity Failures</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-2-OWASP_Top_10/4.2.9-Security_Logging_and_Monitoring_Failures.html">4.2.9 Security Logging and Monitoring Failures</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-2-OWASP_Top_10/4.2.I0-Server_Side_Request_Forgery.html">4.2.I0 Server Side Request Forgery</a></li></ul></details><details><summary>Unit 3 OWASP Assignments</summary><ul><li><a class="nav-link" href="/curriculum/Module-4/Unit-3-OWASP_Assignments/4.3.1-Portfolio.html">4.3.1 Portfolio</a></li><li><a class="nav-link" href="/curriculum/Module-4/Unit-3-OWASP_Assignments/4.3.2-Summative_Project.html">4.3.2 Summative Project</a></li></ul></details></ul></details></ul></nav>
    <h1>Object Relational Mapping - part 1</h1>
<h2>Learning Objectives</h2>
<ul>
<li>Implement an Object Relational Mapping (ORM) design pattern</li>
</ul>
<h2>Pre-requisites</h2>
<h2>Lesson</h2>
<p>A relational database requires data to be stored as rows in tables. How can we map objects in our code to this kind of structure?</p>
<p>The Object Relational Mapping (ORM) pattern abstracts away the database layer. It allows us to focus on creating / manipulating instances of classes such as Restaurant and delegate the work of mapping them to database fields to the ORM layer. In future lessons we'll look at how a commercial ORM framework makes this easy but let's start by trying to write this logic ourselves so we really understand what happens &quot;under the hood&quot;.</p>
<p>Writing our own ORM requires us to implement methods to:</p>
<ul>
<li>persist an instance to the database <code>save()</code></li>
<li>locate matching rows and turn them into objects  <code>findAll()</code> / <code>findById</code></li>
<li>update a row in the database from the content of an object  <code>update()</code></li>
<li>delete one or more rows in the database <code>deleteAll()</code> / <code>deleteById()</code></li>
</ul>
<p>Let's start with a test - note that it is best practice for a test to avoid any network connections hence the use of an in-memory database. We use the setup / tear down specific test methods to initialise and close our database.</p>
<section class="tabbed-code-block"><nav><a href="#javascript" onclick="selectCodeBlock('javascript')">Javascript</a><a href="#java" onclick="selectCodeBlock('java')">Java</a></nav><article><pre><code class="language-javascript"><span class="hljs-keyword">const</span> { Restaurant } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;../src/Restaurant&#x27;</span>)
<span class="hljs-keyword">const</span> { Database } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;sqlite3&#x27;</span>)
<span class="hljs-keyword">const</span> db = <span class="hljs-keyword">new</span> Database(<span class="hljs-string">&#x27;:memory:&#x27;</span>);

describe(<span class="hljs-string">&#x27;Restaurants&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
    beforeAll(<span class="hljs-function">(<span class="hljs-params">done</span>) =&gt;</span> {

        db.run(<span class="hljs-string">&#x27;CREATE TABLE IF NOT EXISTS restaurants(id INTEGER PRIMARY KEY, name TEXT, image TEXT);&#x27;</span>, <span class="hljs-function">()=&gt;</span> {
            done();
        })

        <span class="hljs-comment">// pass in the database that should be used</span>
        Restaurant.setDatabase(db);

    })

    afterAll(<span class="hljs-function">(<span class="hljs-params">done</span>) =&gt;</span> {
        db.close();
    })

    test(<span class="hljs-string">&#x27;A Restaurant can be persisted in the database&#x27;</span>, <span class="hljs-keyword">async</span>(done) =&gt; {
        <span class="hljs-comment">// given</span>
        <span class="hljs-keyword">const</span> restaurant = <span class="hljs-keyword">new</span> Restaurant(<span class="hljs-string">&#x27;Boo Jangles&#x27;</span>, <span class="hljs-string">&#x27;https://some.image.url&#x27;</span>)

        <span class="hljs-comment">//when</span>
        <span class="hljs-keyword">await</span> restaurant.save();

        <span class="hljs-comment">// then</span>
        expect(restaurant.id).toBeGreaterThan(<span class="hljs-number">0</span>)
        done()
    })

    test(<span class="hljs-string">&#x27;A Restaurant can found in the database&#x27;</span>, <span class="hljs-keyword">async</span>(done) =&gt; {
        <span class="hljs-comment">// given</span>
        <span class="hljs-keyword">const</span> restaurant = <span class="hljs-keyword">new</span> Restaurant(<span class="hljs-string">&#x27;Boo Jangles&#x27;</span>, <span class="hljs-string">&#x27;https://some.image.url&#x27;</span>)
        <span class="hljs-keyword">const</span> savedRestaurant = <span class="hljs-keyword">await</span> restaurant.save();

        <span class="hljs-comment">// when</span>
        <span class="hljs-keyword">let</span> foundRestaurant = <span class="hljs-keyword">await</span> Restaurant.findById(savedRestaurant.id);

        <span class="hljs-comment">// then</span>
        expect(foundRestaurant.id).toBeGreaterThan(<span class="hljs-number">0</span>)
        done()
    })

    test(<span class="hljs-string">&#x27;Multiple Restaurants can found in the database&#x27;</span>, <span class="hljs-keyword">async</span>(done) =&gt; {
        <span class="hljs-comment">// given</span>
        <span class="hljs-keyword">await</span> Restaurant.deleteAll();

        <span class="hljs-keyword">let</span> restaurant = <span class="hljs-keyword">new</span> Restaurant(<span class="hljs-string">&#x27;Boo Jangles&#x27;</span>, <span class="hljs-string">&#x27;https://some.image.url&#x27;</span>)
        <span class="hljs-keyword">await</span> restaurant.save();
        restaurant = <span class="hljs-keyword">new</span> Restaurant(<span class="hljs-string">&#x27;Nandos&#x27;</span>, <span class="hljs-string">&#x27;https://some.otherimage.url&#x27;</span>)
        <span class="hljs-keyword">await</span> restaurant.save();

        <span class="hljs-comment">// when</span>
        <span class="hljs-keyword">let</span> foundRestaurants = <span class="hljs-keyword">await</span> Restaurant.findAll();

        <span class="hljs-comment">// then</span>
        expect(foundRestaurants.length).toBe(<span class="hljs-number">2</span>)
        done()
    })

    <span class="hljs-comment">// TODO - add more tests</span>
})
</code></pre>
<pre><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RestaurantTest</span> </span>{

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Jdbi jdbi = Jdbi.create(<span class="hljs-string">&quot;jdbc:sqlite:restaurants.sqlite&quot;</span>);

    <span class="hljs-meta">@BeforeClass</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
        jdbi.useHandle(handle -&gt; {
            handle.execute(<span class="hljs-string">&quot;CREATE TABLE IF NOT EXISTS RESTAURANTS (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT, imagelink TEXT)&quot;</span>);
        });
    }

    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">save</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// given</span>
        Restaurant restaurant = <span class="hljs-keyword">new</span> Restaurant(<span class="hljs-string">&quot;Boo Jangles&quot;</span>, <span class="hljs-string">&quot;https://some.image.url&quot;</span>);

        <span class="hljs-comment">// when</span>
        Restaurant savedRestaurant = restaurant.save();

        <span class="hljs-comment">// then</span>
        assertTrue(savedRestaurant.getId() &gt; <span class="hljs-number">0</span>);
    }

    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">findById</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// given</span>
        Restaurant restaurant = <span class="hljs-keyword">new</span> Restaurant(<span class="hljs-string">&quot;Boo Jangles&quot;</span>, <span class="hljs-string">&quot;https://some.image.url&quot;</span>);
        Restaurant savedRestaurant = restaurant.save();

        <span class="hljs-comment">// when</span>
        Restaurant foundRestaurant = Restaurant.findById(savedRestaurant.getId());

        <span class="hljs-comment">// then</span>
        assertTrue(foundRestaurant.getId() &gt; <span class="hljs-number">0</span>);
    }

    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">findAll</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// given</span>
        Restaurant.deleteAll();

        Restaurant restaurant = <span class="hljs-keyword">new</span> Restaurant(<span class="hljs-string">&quot;Boo Jangles&quot;</span>, <span class="hljs-string">&quot;https://some.image.url&quot;</span>);
        Restaurant savedRestaurant = restaurant.save();
        restaurant = <span class="hljs-keyword">new</span> Restaurant(<span class="hljs-string">&quot;Nandos&quot;</span>, <span class="hljs-string">&quot;https://some.otherimage.url&quot;</span>);
        savedRestaurant = restaurant.save();

        <span class="hljs-comment">// when</span>
        List&lt;Restaurant&gt; foundRestaurants = Restaurant.findAll();

        <span class="hljs-comment">// then</span>
        assertTrue(foundRestaurants.size() == <span class="hljs-number">2</span>);

    }
}
</code></pre>
</article></section><p>The <code>save()</code> method is shown as an example below:</p>
<section class="tabbed-code-block"><nav><a href="#javascript" onclick="selectCodeBlock('javascript')">Javascript</a><a href="#java" onclick="selectCodeBlock('java')">Java</a></nav><article><pre><code class="language-javascript"><span class="hljs-keyword">const</span> { Database } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;sqlite3&#x27;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Restaurant</span> </span>{
    id;
    name;
    image;
    <span class="hljs-keyword">static</span> db;

    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name, image</span>)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.image = image;
    }

    <span class="hljs-comment">/**
     * Set the database to use
     */</span>
    <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-title">setDatabase</span>(<span class="hljs-params">db</span>)</span> {
        Restaurant.db = db;
    }

    <span class="hljs-function"><span class="hljs-title">save</span>(<span class="hljs-params"></span>)</span> {

        <span class="hljs-keyword">const</span> self = <span class="hljs-built_in">this</span>; <span class="hljs-comment">// required as &#x27;this&#x27; is not visible within the run function</span>

        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
                Restaurant.db.run(<span class="hljs-string">`INSERT INTO RESTAURANTS (name, image) VALUES (?, ?)`</span>, [self.name, self.image], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
                    <span class="hljs-keyword">if</span> (err) {
                        <span class="hljs-built_in">console</span>.log(err.message);
                        <span class="hljs-keyword">throw</span> err;
                    }
                    self.id = <span class="hljs-built_in">this</span>.lastID; <span class="hljs-comment">// set the object id to the inserted row id</span>

                    resolve(self);
                })
            });
        } <span class="hljs-keyword">catch</span> (err) {
            <span class="hljs-built_in">console</span>.log(err)
        }
    }
</code></pre>
<pre><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Restaurant</span> </span>{

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Jdbi jdbi = Jdbi.create(<span class="hljs-string">&quot;jdbc:sqlite:restaurants.sqlite&quot;</span>);

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> String imageLink;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Restaurant</span><span class="hljs-params">()</span> </span>{
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Restaurant</span><span class="hljs-params">(String name, String imageLink)</span> </span>{
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>.imageLink = imageLink;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> Restaurant <span class="hljs-title">save</span><span class="hljs-params">()</span> </span>{

        <span class="hljs-comment">// using withHandle will auto close the db connection</span>
        Long id = jdbi.withHandle(handle -&gt; {

            <span class="hljs-keyword">return</span> handle.createUpdate(<span class="hljs-string">&quot;INSERT INTO RESTAURANTS (name, imagelink) VALUES (?, ?)&quot;</span>)
                    .bind(<span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.imageLink)
                    .executeAndReturnGeneratedKeys(<span class="hljs-string">&quot;id&quot;</span>)
                    .mapTo(Long.class).findOnly();
        });

        <span class="hljs-keyword">this</span>.id = id;

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }
</code></pre>
</article></section><h2>Assignment</h2>
<ol>
<li><p>Create code to represent the 3 classes below. There is no need at this stage to worry about relationships between classes. <figure><img src="https://user-images.githubusercontent.com/1316724/111300668-3ed7d980-8649-11eb-99b2-5a842259c4ed.png" alt="UML Class Diagram showing Restaurant, Menu and MenuItem classes and attributes"><figcaption></figcaption></figure></p></li>
<li><p>Write a <code>save()</code> method to persist an instance of each class to the database.</p></li>
<li><p>Write a static <code>findAll()</code> method to select all rows from a table in the database and construct object instances to represent these rows and a static <code>findById()</code> method to select a specific row from a table in the database and construct an object instance to represent this row.</p></li>
<li><p>Write a static <code>deleteAll()</code> method to delete all rows in a specific table and a static <code>deleteById()</code> to delete a specific row</p></li>
<li><p>Write a static <code>updateById()</code> method to update the content of a row in the database</p></li>
<li><p>Run the unit test above to prove your code works as expected. Add extra test cases to ensure complete code coverage.</p></li>
<li><p>Commit your code into Github and share the link with your coach for review.</p></li>
</ol>
<h3>Assignment extension tasks</h3>
<h2>Additional resources</h2>

    <nav id="footer-nav"></nav>
    <script src="/curriculum/js/tabbed-code-blocks.js"></script>
    <script>
        function toggleNav() {
            const button = document.getElementById('navigation-toggle')
            const isAriaExp = button.getAttribute('aria-expanded')
            const newAriaExp = (isAriaExp == "false") ? "true" : "false"
            button.setAttribute('aria-expanded', newAriaExp)
            const nav = document.getElementById('navigation')
            nav.style.display = nav.offsetParent ? 'none' : 'block'
        }
        function footerNav() {
            const links = document.getElementsByClassName('nav-link')
            const hrefs = Array.from(links).map(a => a.getAttribute('href'))
            const [current] = window.location.href.match(/[0-9\.]+[a-zA-Z0-9_\\-]+\.html/) || [0]
            const index = hrefs.findIndex(href => {
                const page = href.split(/\\|\//).pop()
                return page === current
            })
            const prevIndex = index - 1
            const nextIndex = index + 1
            if (prevIndex > -1) {
                const prev = document.createElement('a') 
                prev.appendChild(document.createTextNode("◀︎ Prev"))
                prev.title = "Previous session notes"
                prev.href = hrefs[prevIndex]
                document.getElementById('footer-nav').prepend(prev)
            }
            if (nextIndex < hrefs.length) {
                const next = document.createElement('a') 
                next.appendChild(document.createTextNode("Next ►"))
                next.title = "Next session notes"
                next.href = hrefs[nextIndex]
                document.getElementById('footer-nav').append(next)
            }
            window.removeEventListener('DOMContentLoaded', footerNav)
        }
        window.addEventListener('DOMContentLoaded', footerNav)
    </script>
</body>

</html>