# Introduction

Now we have introduced the Product Details page, we need a way to access that Product's information to display on the frontend. The problem is, passing the whole product via the router link is tricky and not a recommended approach.

Instead, we need a central place to manage state and to give the Product Details component the ability to query the state based on the dynamic ID we passed.

## Learning Objectives

- Re-imagine our app using Vuex
- Query product information by Product ID
- Display Product information on the Product Details page

## Re-imagining our app using Vuex

### Step 1

In your `index.html` file, add the following script tag above `main.js`:

```html
<script src=" https://unpkg.com/vuex@3.6.2/dist/vuex.js"></script>
```

### Step 2

Add three new objects:

```js
const products = {
  state: {
    products: [
      {
        productId: 1,
        name: 'Boston Fern',
        description:
          'Nephrolepis exaltata, known as the sword fern or Boston fern, is a species of fern in the family Lomariopsidaceae native to tropical regions throughout the world.',
        features: ['Moisture loving', 'Easy care', 'Dislikes direct sun'],
        stockLevel: 5,

        // add rest of product JSON here
      },
    ],
  },
  getters: {},
};
```

```js
const cart = {
  state: {
    cart: [],
  },
  mutations: {},
  getters: {},
};
```

```js
const business = {
  state: {
    brand: 'Plants Direct',
    address: '21 Sussex Gardens',
    city: 'London',
    postcode: 'SW1 01L',
  },
  getters: {},
};
```

### Step 3

Create a new Vuex store and pass in the modules you created above:

```js
const store = new Vuex.Store({
  modules: {
    products,
    cart,
    business,
  },
});
```

### Step 4

Pass the store into your app component:

```js
var app = new Vue({
  router,
  store,
  el: '#app',

  // other fields omitted
```

### Step 5

Remove `{{this.cart.length}}` from the home page.

### Step 6

Verify your site is now loading. It won't show any products or other information just yet. We'll fix this below.

## Configuring components to use Vuex store

As you'll know, all of our components use data from the main app component, but now we want to change this so they get the data from our newly created store. Let's fix the issues one by one:

### Fixing the footer brand and address

#### Step 1

In the `business` module, add the following `getters`:

```js
getters: {
  getFullAddress(state) {
    return `${state.address}, ${state.city}, ${state.postcode}`;
  },
  getBrand(state) {
    return state.brand;
  },
},
```

#### Step 2

In your app component, modify the `computed` methods as follows:

```js
 computed: {
    footerCopyrightNotice() {
      return '2021 ' + store.getters.getBrand;
    },
    footerAddress() {
      return store.getters.getFullAddress;
    },
  },
```

This should fix the footer output.

## How do `getters` work?

In order to access our store, we now need to use well-defined `getter` methods that exist on one of our modules. These methods only READ from the store, and can't modify or update it in any way. In this case, `getBrand` and `getFullAddress` belong to the `business` module and return the brand name and the address. We'll be using this getter pattern a good deal to fix the other data issues, so take a moment to review your changes to understand ho it works.
