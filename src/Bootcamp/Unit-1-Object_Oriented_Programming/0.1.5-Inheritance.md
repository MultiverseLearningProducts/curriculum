# Inheritance

## Learning Objectives
* Demonstrate sharing functionality through inheritance

## Lesson
The final object oriented pattern we are going to look at is inheritance. This is a way to share functionality in an object oriented paradigm. The idea is very simple. You extend base classes that already exist with additional functionality. If we look at our airports system we have 2 kinds of travellers.

|Passengers|Crew|
|-----|-----|
|![passengers](https://user-images.githubusercontent.com/4499581/93331580-6b38a780-f818-11ea-835c-1c579dfe481d.jpg)|![crew](https://user-images.githubusercontent.com/4499581/93331575-67a52080-f818-11ea-8308-af97a9a6d6cc.jpg)|

Both are people, both have a name and take bags when they travel.

### Base class `Person`

A base class is the base from which you might create other types of classes. Let's refactor our code to use a base class `Person`. A person will have a name and bags - basically the current `Passenger` class definition we have now needs to be renamed to be `Person`. Now to restore our `Passenger` class we should import the `Person` base class into our `Passenger` definition and extend it like this.

```javascript
const Person = require('./Person')

class Passenger extends Person {}
```
That is enough to fix all our current tests. Everything should work as it was. When we create a `new Passenger('bob')` we will be able to call `addBag` as this functionality has been inherited from the `Person` class. 

Our passengers might want functionality specific to them like `callAttendant`. In this case, we add the method to the `Passenger` subclass.

```javascript
const Person = require('./Person')

class Passenger extends Person {
    callAttendant() {
        console.log('Excuses me, Hay there!')
    }
}
```

### instanceof
Can you see where this is going? One useful operator we want to introduce at this point is `instanceof`. Now you can make classes, in your code sometimes you'll want to know what type an object is. For example, you might want to know, is this person a `Passenger` or a `Crew` member? You can use `instanceof` to help you work that out.

```javascript
test('is an instance of a Passenger', () => {
    const betty = new Passenger('Betty')
    expect(betty instanceof Passenger).toBeTruthy()
})
```

## Assignment
* Create the `Crew` class by extending the `Person` class. Think about the properties a crew member may have.
* Refactor the `Plane` class to have a `crew` property
* When `board` is called on an instance of a plane, you should iterate over the array and put crew and passengers in the correct property in the plane instance.
* All your refactoring should have tests that cover it

When you have completed these tasks, create a coverage report using Jest. Add the following line to your package.json

```json
{
  "scripts": {
    "test": "jest --watchAll",
    "test:report": "jest --coverage=true"
  },
  "dependencies": {
    "jest": "^26.4.2"
  }
}
```
Then run `npm run test:report` - you are aiming for 100% test coverage. 

You should see that Jest generates a 'coverage' report in your project folder under `/coverage/Icov-report/index.html`. Open this in your browser to view coverage by line, branch, function and statement.

![test coverage report showing statements, branches, functions and line coverage](https://user-images.githubusercontent.com/4499581/93334401-cc627a00-f81c-11ea-9c98-4825235c06a4.png)

The report is interactive hence you can click and drill down into a specific class.

Commit all your code and a screenshot of your coverage report into Github and share the link with your coach for review.

### Assignment extension tasks
TODO

## Additional resources